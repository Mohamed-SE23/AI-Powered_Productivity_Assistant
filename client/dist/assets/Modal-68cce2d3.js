import{r as i,u as h,a as n,s as f,b,c as u,j as e,d as o,e as g,f as j}from"./index-a0ccbe89.js";function v({ref:t,callback:s}){return i.useEffect(()=>{const r=a=>{t.current&&!t.current.contains(a.target)&&s()};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t,s]),t}function y(){const t=h(),s=n(f),r=n(b),a=n(l=>l.tasks.task),c=i.useRef(null);v({ref:c,callback:()=>{s&&t(o())}}),i.useEffect(()=>{s==="edit"&&r&&Object.keys(r).forEach(l=>{t(u({field:l,value:r[l]}))})},[s,r,t]);const d=l=>x=>{t(u({field:l,value:x.target.value}))},p=l=>{l.preventDefault(),s==="edit"?t(g(a)):s==="add"&&t(j(a)),t(o())},m=()=>{t(o())};return e.jsx("div",{className:"fixed left-0 top-0 z-[500] h-full w-full bg-[#333]/30 overflow-hidden",children:e.jsxs("form",{className:"py-5 px-6 max-w-[520px] w-full flex flex-col gap-3 bg-white absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-lg shadow-md",onSubmit:p,ref:c,children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"title",children:"Title"}),e.jsx("input",{className:"bg-[#F9F9F9] px-2 py-1 rounded-md border",type:"text",id:"title",placeholder:"Task Title",name:"title",value:a.title||"",onChange:d("title"),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("textarea",{className:"bg-[#F9F9F9] px-2 py-1 rounded-md border resize-none",name:"description",placeholder:"Task Description",rows:"3",value:a.description||"",onChange:d("description"),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"startDate",children:"Start Date"}),e.jsx("input",{className:"bg-[#F9F9F9] px-2 py-1 rounded-md border",type:"date",name:"startDate",value:a.startDate?a.startDate.split("T")[0]:"",onChange:d("startDate"),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"dueDate",children:"Due Date"}),e.jsx("input",{className:"bg-[#F9F9F9] px-2 py-1 rounded-md border",type:"date",name:"dueDate",value:a.dueDate?a.dueDate.split("T")[0]:"",onChange:d("dueDate"),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"priority",children:"Select Priority"}),e.jsxs("select",{className:"bg-[#F9F9F9] px-2 py-1 rounded-md border cursor-pointer",name:"priority",value:a.priority||"low",onChange:d("priority"),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"completed",children:"Task Completed"}),e.jsxs("select",{className:"bg-[#F9F9F9] px-2 py-1 rounded-md border cursor-pointer",name:"completed",value:a.completed,onChange:d("completed"),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:m,className:"text-slate-50 bg-gray-600 rounded-md py-2 w-full hover:bg-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:`text-white py-2 rounded-md w-full hover:bg-blue-500 transition duration-200 ease-in-out ${s==="edit"?"bg-blue-400":"bg-green-400"}`,children:s==="edit"?"Update Task":"Create Task"})]})]})})}export{y as default};
